library(lubridate)
get_wateryear<-function(date,yearstart){
yearstart=10
x<-as.character(ifelse(month(date)<yearstart,year(date), year(date)+1))
x<-paste0((as.numeric(str_sub(x,1))-1),"-",str_sub(x, 1))
get_wateryear<-function(date,yearstart){
yearstart=10
x<-as.character(ifelse(month(date)<yearstart,year(date), year(date)+1))
x<-paste0((as.numeric(str_sub(x,1))-1),"-",str_sub(x, 1))
}
get_wateryear<-function(date,yearstart){
yearstart=10
x<-as.character(ifelse(month(date)<yearstart,year(date), year(date)+1))
x<-paste0((as.numeric(str_sub(x,1))-1),"-",str_sub(x, 1))
}
today()
today()
library(lubridate)
get_wateryear<-function(date,yearstart){
yearstart=10
x<-as.character(ifelse(month(date)<yearstart,year(date), year(date)+1))
x<-paste0((as.numeric(str_sub(x,1))-1),"-",str_sub(x, 1))
get_wateryear<-function(date,yearstart){
yearstart=10
x<-as.character(ifelse(month(date)<yearstart,year(date), year(date)+1))
x<-paste0((as.numeric(str_sub(x,1))-1),"-",str_sub(x, 1))
}
today()
devtools::install_github("avbans/Bans.Packages")
git remote add origin https://github.com/avbans/Bans.Packages.git
git remote add origin https://github.com/avbans/Bans.Packages.git
use_r()
use_r("Hydrology_Helpr")
devtools::load_all()
devtools::document()
get_wateryear<-function(date,yearstart){
yearstart = 10
x<-as.character(ifelse(lubridate::month(date) < yearstart,lubridate::year(date), lubridate::year(date)+1))
x<-paste0((as.numeric(stringr::str_sub(x,1))-1),"-", stringr::str_sub(x, 1))
}
#` Determine Water Year
#`
#` This function determines the water year based on a date given
#` @param date The date in the form of date or datetime
#` @param yearstart The month your water year starts on, defaults as Oct 1st (10)
#` @return The water year the date belongs to
#` @examples
#` get_wateryear(lubridate::today(),9)
#` df<- dplyr::mutate(df, wateryear = get_wateryear(datetime))
#` @export
get_wateryear<-function(date,yearstart){
yearstart = 10
x<-as.character(ifelse(lubridate::month(date) < yearstart,lubridate::year(date), lubridate::year(date)+1))
x<-paste0((as.numeric(stringr::str_sub(x,1))-1),"-", stringr::str_sub(x, 1))
}
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::check()
usethis::use_package("dplyr")
usethis::usepackage("dplyr")
usethis::usepackage("dplyr")
usethis::usepackage("dplyr")
usethis::use_package("dplyr")
usethis::use_package("tidyr")
usethis::use_package(c("lubridate","stringr","here","markdown"))
usethis::use_package("lubridate")
usethis::use_package("stringr")
usethis::use_package("here")
usethis::use_package("markdown")
devtools::document()
use_mit_license
use_mit_license
use_mit_license()
usethis:use_mit_license("Company Name")
usethis:use_mit_license("Alex Bans")
install.packages("usethis")
install.packages("usethis")
usethis:use_mit_license("Alex Bans")
usethis:use_mit_license("Alex Bans")
usethis::use_package("ggplot2")
usethis::use_package("fakeone")
usethis:use_mit_license("Company Name")
usethis::use_mit_license("Alex Bans")
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
source("~/.active-rstudio-document", echo=TRUE)
devtools::document()
devtools::document()
load_all()
load_all()
rm(list =c("report_compiler"))
rm(list =c("get_wateryear"))
load_all()
devtools::document()
devtools::documents()
devtools::document()
devtools::document()
devtools::document()
source("~/.active-rstudio-document", echo=TRUE)
devtools::document()
devtools::document()
devtools::document()
library(roxygen2)
#' This function determines what storm event an observation is associated with.
#` This can be used a wide range of circumstances (sampling, rain, flow, etc.).
#' @param df The dataframe to manipulate. You need datetime at minimum.
#' @param df2 The dataframe output from parse_storms() function.
#'
#' @return Returns updated dataframe where each observation has an associated
#`  storm id. `
#'
#' @examples df<- parse(df, df2)
#' @export
parse_dates<- function(df,df2){
df2<-df2%>%
select(storm_id,eventstart,eventend)
crossing(df,df2)%>%
filter(datetime >= eventstart,
datetime < eventend)%>%
select(-c(eventstart,eventend))
}
remove(parse_dates)
devtools::document()
devtools::document()
